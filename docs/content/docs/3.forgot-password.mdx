---
title: Forgot Password
description: Password reset flow with OTP verification
icon: LockKeyholeOpen
---

# Forgot Password

3-step password reset flow for existing users.

## Flow Overview

1. **Check User** → Verify user exists and send OTP
2. **Verify OTP** → Get reset token
3. **Reset Password** → Set new password

## Step 1: Check User

Verify user exists and send OTP for password reset.

### Endpoint

```http
POST /api/account/authenticate/forget-password/check/
```

### Request

```json
{
  "phone": "09123456789"
}
```

### Response

**Success:**

```json
{
  "success": true,
  "status": 200,
  "message": "کد تایید به شماره 09123456789 ارسال شد",
  "data": null
}
```

**User not found:**

```json
{
  "success": false,
  "status": 400,
  "message": "کاربری با این شماره پیدا نشد.",
  "data": null
}
```

**Error - Invalid input:**

```json
{
  "success": false,
  "status": 400,
  "message": "خطایی در انجام عملیات رخ داده است",
  "data": null
}
```

### TypeScript Interface

```ts
interface ForgotPasswordCheckResponse extends ApiResponseType<null> {}
```

### Resend OTP

If you need to resend the OTP code, use the dedicated resend endpoint:

**Endpoint:** `POST /api/sms-service/request/otp/`

```json
{
  "phone": "09123456789",
  "otp_usage": "RESET_PASSWORD"
}
```

For detailed resend OTP documentation, see [Resend OTP Guide](/docs/4.resend-otp).

## Step 2: Verify OTP

Verify the OTP code and get reset token.

### Endpoint

```http
POST /api/account/authenticate/forget-password/otp/
```

### Request

```json
{
  "phone": "09123456789",
  "otp": "1234"
}
```

### Response

**Success:**

```json
{
  "success": true,
  "status": 200,
  "message": "عملیات با موفقیت انجام شد",
  "data": {
    "token": "550e8400-e29b-41d4-a716-446655440000"
  }
}
```

**Invalid OTP:**

```json
{
  "success": false,
  "status": 400,
  "message": "کد تایید اشتباه یا منقضی شده است",
  "data": null
}
```

**User not found:**

```json
{
  "success": false,
  "status": 400,
  "message": "کاربری با این شماره پیدا نشد.",
  "data": null
}
```

**Error - Invalid input:**

```json
{
  "success": false,
  "status": 400,
  "message": "خطایی در انجام عملیات رخ داده است",
  "data": null
}
```

### TypeScript Interface

```ts
interface ForgotPasswordOTPResponse
  extends ApiResponseType<{
    token: string;
  } | null> {}
```

## Step 3: Reset Password

Set new password using the reset token.

### Endpoint

```http
POST /api/account/authenticate/forget-password/reset/
```

### Request

```json
{
  "phone": "09123456789",
  "token": "550e8400-e29b-41d4-a716-446655440000",
  "password": "new_password",
  "confirm_password": "new_password"
}
```

### Response

**Success:**

```json
{
  "success": true,
  "status": 200,
  "message": "رمز عبور با موفقیت تغییر کرد.",
  "data": null
}
```

**Error - Token expired:**

```json
{
  "success": false,
  "status": 400,
  "message": "توکن منقضی شده است.",
  "data": null
}
```

**Error - User not found:**

```json
{
  "success": false,
  "status": 400,
  "message": "خطایی در انجام عملیات رخ داده است",
  "data": null
}
```

**Error - Password validation:**

```json
{
  "success": false,
  "status": 400,
  "message": "رمز عبور و تکرار آن یکسان نیستند",
  "data": null
}
```

**Error - Invalid input:**

```json
{
  "success": false,
  "status": 400,
  "message": "خطایی در انجام عملیات رخ داده است",
  "data": null
}
```

### TypeScript Interface

```ts
interface ForgotPasswordResetResponse extends ApiResponseType<null> {}
```

## Requirements

- **Password**: 8-32 characters
- **Token**: UUID4 format from step 2
- **OTP**: 4-digit code sent via SMS
- **Phone**: Valid Iranian mobile number

## Notes

- Reset token expires after use
- OTP expires after 5 minutes
- Password must match confirmation
- Only works for existing users
